{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst input = document.querySelector('.input-search');\nconst form = document.querySelector('.form-search');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader'); \nconst key = '42111796-9c286351ad531542ab3bfb8be';\n\nloader.style.display = 'none';\n\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n\n    gallery.innerHTML = '';\n    loader.style.display = 'block';\n\n    searchImages(input.value);\n\n    function searchImages(q) {\n        const requestUrl = `https://pixabay.com/api/?key=${key}&q=${q}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n        fetch(requestUrl)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n        .then(data => {\n            loader.style.display = 'none';\n\n            if (data && data.hits && data.hits.length > 0) {\n                const markup = data.hits.map(data => {\n                    return `<li class=\"gallery-item\"><a href=\"${data.webformatURL}\">\n                    <img class=\"gallery-image\" src=\"${data.webformatURL}\" alt=\"${data.tags}\"></a>\n                    <p>Likes: ${data.likes}</p>\n                    <p>Views: ${data.views}</p>\n                    <p>Comments: ${data.comments}</p>\n                    <p>Downloads: ${data.downloads}</p>\n                    </li>`;\n                })\n                .join('');\n                gallery.insertAdjacentHTML('afterbegin', markup);\n\n                const lightbox = new SimpleLightbox('.gallery a', {\n                captions: true,\n                captionSelector: 'img',\n                captionsData: 'alt',\n                captionPosition: 'bottom',\n                animation: 250,\n                });\n\n                lightbox.on('show.simplelightbox');\n                lightbox.refresh();\n                form.reset();\n            } else {\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    class: 'izi-toast',\n                    messageColor: '#fafafb',\n                    messageSize: '16px',\n                    backgroundColor: '#ef4040',\n                    maxWidth: '432px',\n                    position: 'topRight', \n                });\n            }\n        })\n        .catch(error => {\n            console.error('An error occurred:', error);\n            iziToast.error({\n                title: 'Error',\n                message: `An error occurred: ${error}`,\n            });\n        });\n    }\n});\n"],"names":["input","form","gallery","loader","key","event","searchImages","q","requestUrl","response","data","markup","lightbox","SimpleLightbox","iziToast","error"],"mappings":"6vBAKA,MAAMA,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAM,qCAEZD,EAAO,MAAM,QAAU,OAEvBF,EAAK,iBAAiB,SAAWI,GAAU,CACvCA,EAAM,eAAc,EAEpBH,EAAQ,UAAY,GACpBC,EAAO,MAAM,QAAU,QAEvBG,EAAaN,EAAM,KAAK,EAExB,SAASM,EAAaC,EAAG,CACrB,MAAMC,EAAa,gCAAgCJ,OAASG,4DAE5D,MAAMC,CAAU,EACf,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAKC,GAAQ,CAGV,GAFAP,EAAO,MAAM,QAAU,OAEnBO,GAAQA,EAAK,MAAQA,EAAK,KAAK,OAAS,EAAG,CAC3C,MAAMC,EAASD,EAAK,KAAK,IAAIA,GAClB,qCAAqCA,EAAK;AAAA,sDACfA,EAAK,sBAAsBA,EAAK;AAAA,gCACtDA,EAAK;AAAA,gCACLA,EAAK;AAAA,mCACFA,EAAK;AAAA,oCACJA,EAAK;AAAA,0BAExB,EACA,KAAK,EAAE,EACRR,EAAQ,mBAAmB,aAAcS,CAAM,EAE/C,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAClD,SAAU,GACV,gBAAiB,MACjB,aAAc,MACd,gBAAiB,SACjB,UAAW,GAC3B,CAAiB,EAEDD,EAAS,GAAG,qBAAqB,EACjCA,EAAS,QAAO,EAChBX,EAAK,MAAK,CAC1B,MACgBa,EAAS,MAAM,CACX,QAAS,2EACT,MAAO,YACP,aAAc,UACd,YAAa,OACb,gBAAiB,UACjB,SAAU,QACV,SAAU,UAC9B,CAAiB,CAEjB,CAAS,EACA,MAAMC,GAAS,CACZ,QAAQ,MAAM,qBAAsBA,CAAK,EACzCD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,sBAAsBC,GAC/C,CAAa,CACb,CAAS,CACJ,CACL,CAAC"}